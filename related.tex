\ifx\mainfile\undefined
\input{chapter_head}
\setcounter{chapter}{8} % Set to n-1!
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\cleardoublepage
\chapter{Related Work}
\label{chap:related}

In this chapter, I place my thesis in the context of existing work on wireless technology and wireless systems. I view my research as lying at the intersection of three bodies of work: (1) understanding real 802.11 wireless channels, (2) theoretical analysis of wireless link performance, and (3) practical algorithms for configuring wireless systems. I use this framework to guide the discussion.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Understanding real 802.11 wireless channels}
Since the advent of Wi-Fi technology in the late 1990s, a number of studies have investigated the performance characteristics of 802.11, and uncovered several issues.

Initial studies of 802.11b in Roofnet~\cite{Aguayo_Roofnet} and at the University of Washington~\cite{Reis_interference} found Packet SNR calculated from RSSI to be a weak predictor of packet delivery. One reason for this was poor calibration of NICs, which has since improved. Today's NICs have intense calibration procedures that include in-factory measurements of the raw silicon manufacturing variability and on-line measurements conducted when in active use (e.g.\ as described in Chen and Hsieh~\cite{Chen_IQcalib}) to compensate for thermal conditions and power supply effects. As an example, Intel's open-source drivers~\cite{iwlwifi} perform seven calibration steps whenever the device powers on, changes transmit power level, or switches channels to ensure accurate operation of components such as baseband and RF oscillators, and linear transmit amplifiers. Broadcom advertises that its Wi-Fi solutions ``are capable of self-calibrating based on usage temperature and other environmental conditions''~\cite{Broadcom_calib}. These modern calibration solutions have largely eliminated these effects.

Another reason that Packet SNR was observed not to predict performance well for 802.11b was the corruption of RSSI estimates by interference~\cite{Reis_interference,Vlavianos_metrics}. This effect is caused by the spread-spectrum technologies of 802.11b, and the OFDM and MIMO techniques used in 802.11a/g/n today reduce this effect greatly.

Despite these two improvements, the fundamental reason for variation across links with 802.11a/g/n OFDM comes from frequency-selective fading, which does not affect spread-spectrum modulations in 802.11b. These effects have been noticed in several studies of real hardware from a variety of manufacturers~\cite{Han_errors,Miu_MRD} and system analyses~\cite{Lampe_adaptation,Tse}. I present experimental measurements confirming these effects in \chapref{chap:problem} and \chapref{chap:delivery}.

An early 802.11n study by Shrivastava et al.~\cite{Shrivastava_80211n} found that the use of multiple antennas can improve physical layer performance for real hardware. My measurements and model provide a better understanding of the channel that can explain the underlying cause of these gains as well as quantify their potential benefits.

Finally, understanding and developing models for real 802.11 channels is a large part of the 802.11 standards working group. Its members have studied raw channel performance in a variety of environments and mobility conditions and developed models that capture these results, now included as part of the IEEE 802.11-2007~\cite{80211} and IEEE 802.11n-2009 standards~\cite{80211n}. My channel state information measurement tool has been used by 802.11 working group members to inform these models, as well as to provide corrective amendments~\cite{Perahia_Doppler}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Theoretical analysis}
Much theoretical work on OFDM with convolutional coding starts with Effective BER or SNR~\cite{Nanda_EffectiveSNR} and adds simulated faded channels to build closed-form expressions for error rates under coding~\cite{Awoniyi_ofdm,Nortel_3g,Tralli_convolutional}. Effective SNR has also been extended to MIMO-OFDM~\cite{Liu_EESM,Martorell_11n,Kant_FLA}. Our model is related, but simpler: we eschew simulating complex, implementation-dependent coding effects in favor of using fixed, per-rate thresholds. We convert CSI to Effective SNR in a way that better matches the equal modulation and power allocation used by 802.11n and offer a better API for practical use. Most importantly, we experimentally evaluate our model for 802.11 NICs and real RF channels; we are not aware of other work on 802.11 that uses Effective SNR measures outside of simulation or analysis.

\section{Algorithms}
The study by Vlavianos et al.~\cite{Vlavianos_metrics} of metrics for devices that operate in real wireless channels uncovered problems with all accessible metrics. My work to both build a practical tool that exposes better physical layer information and develop a practical methodology to compute an accurate channel metric fills this gap.

\subsection{Rate adaptation}
Many rate adaptation algorithms have been proposed that use packet delivery statistics~\cite{Bicket_SampleRate,Wong_RRAA}, RSSI-based packet SNR~\cite{Camp_rateadapt,Judd_CHARM}, or symbol-level details of packet reception~\cite{Sen_AccuRate,Vutukuru_SoftRate} to adapt to varying channel conditions. Some proposals require custom hardware~\cite{Camp_rateadapt} and may drastically change the fundamentals of the communication~\cite{Rahul_FARA}. These methods do not extend to 802.11n and do not address related factors, e.g., transmit power.

Compared to SoftRate's~\cite{Vutukuru_SoftRate} use of BER estimates, our Effective SNR metric is more general. With a single CSI measurement, we can extrapolate performance in a wide space of rates, spatial streams, antenna selections, channel widths, and transmit power levels. We have also shown that Effective SNR can be implemented on commodity NICs and evaluated it over real wireless channels with mobile and fixed clients. Like RRAA~\cite{Wong_RRAA} and SoftRate, Effective SNR helps to distinguish collisions from channel induced packet loss; with accurate predictions of interference-free packet delivery there is no need to adapt rate in response to loss.

Finally, Effective SNR could inform and improve schemes that combine transmission with more efficient channel-dependent coding~\cite{Lin_ZipTX} or partially-correct ARQ schemes~\cite{Jamieson_PPR}. Our deeper understanding of fading should also aid attempts to use the faster OFDM rates in challenging outdoor mobile environments~\cite{Eriksson_Cabernet}. %that have previously been hampered. % by an inability to explain or predict performance in a reasonable way.

HYDRA?~\cite{Kim_Hydra}

\section{Transmit power control}
Existing proposals for transmit power control require complex probing and adaptation mechanisms~\cite{Monks_PowerMAC,Ramachandran_Symphony,Son_PowerStudy}. Our %evaluation highlights 
example in \chapref{chap:delivery} suggests 
that, with a good predictive model, we can directly and confidently select a reduced transmit power without degrading link performance. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ifx\mainfile\undefined
\input{chapter_tail}
\fi
